<!-- Load an icon library to show a hamburger menu (bars) on small screens -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<div *ngIf="!isLoginPage" class="header-container" [ngClass]="theme" >
  <div class="left-container">
    <div class="logo-container" >
      <a class="logo" href="#" (click)="navigateHome()">
        <!-- <img src="assets/images/geg-logo 1.png" alt="Logo GEG" class="logo-img"> -->
        <img [src]="logo" alt="Logo" class="logo-img">
      </a>
    </div>
    <!-- <nb-menu [items]="menu" class="header-menu"></nb-menu> -->
    <div class="tab-content" [ngClass]="{'topnav': true, 'responsive': isResponsive}" id="myTopnav">
      <a [ngClass]="{'active': currentSection === 'Accueil', 'inactive': currentSection !== 'Accueil'}" (click)="onSectionClick('Accueil')">Accueil</a>
      <a [ngClass]="{'active': currentSection === 'Consommation', 'inactive': currentSection !== 'Consommation'}" (click)="onSectionClick('Consommation')">Consommation</a>
      <a [ngClass]="{'active': currentSection === 'Factures', 'inactive': currentSection !== 'Factures'}" (click)="onSectionClick('Factures')">Factures</a>
      <a [ngClass]="{'active': currentSection === 'Documents', 'inactive': currentSection !== 'Documents'}" (click)="onSectionClick('Documents')">Documents</a>
      <a [ngClass]="{'active': currentSection === 'Services', 'inactive': currentSection !== 'Services'}" (click)="onSectionClick('Services')">Services</a>
      <a href="javascript:void(0);" class="icon" (click)="toggleNavbar()">
        <i class="fa fa-bars"></i>
      </a>
    </div>
  </div>


  <div class="right-container">
    <div class="je-demenage-section">
      <div class="section-text">Je déménage</div>
      <svg class="icon-demenage"  xmlns="http://www.w3.org/2000/svg" width="21" height="21" viewBox="0 0 21 21" fill="none"><circle class="circle" cx="14" cy="16" r="6" /><g>   <path d="M1.90625 5.82031L10.0004 10.5045L18.0396 5.84778" stroke="#3A3A3A" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />  <path d="M10 18.8098V10.4956" stroke="#3A3A3A" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" /> <path d="M8.10305 1.2735L3.20806 3.99603C2.09889 4.61019 1.19141 6.15017 1.19141 7.41517V12.5944C1.19141 13.8594 2.09889 15.3993 3.20806 16.0135L8.10305 18.736C9.14805 19.3135 10.8622 19.3135 11.9072 18.736L16.8022 16.0135C17.9114 15.3993 18.8189 13.8594 18.8189 12.5944V7.41517C18.8189 6.15017 17.9114 4.61019 16.8022 3.99603L11.9072 1.2735C10.853 0.686829 9.14805 0.686829 8.10305 1.2735Z" stroke="#3A3A3A" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" /> <path d="M14.582 11.1366V7.78167L5.88281 2.7583" stroke="#3A3A3A" stroke-width="1.5" stroke-linecap="round"  stroke-linejoin="round" /> </g> </svg>
    </div>

    <div class="section1" [class.active]="activeSection === 'aide'">
      <svg class="icon-demenage"  xmlns="http://www.w3.org/2000/svg" width="21" height="21" viewBox="0 0 21 21" fill="none"><circle class="circle" cx="14" cy="16" r="6" /><g>   <path d="M1.90625 5.82031L10.0004 10.5045L18.0396 5.84778" stroke="#3A3A3A" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />  <path d="M10 18.8098V10.4956" stroke="#3A3A3A" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" /> <path d="M8.10305 1.2735L3.20806 3.99603C2.09889 4.61019 1.19141 6.15017 1.19141 7.41517V12.5944C1.19141 13.8594 2.09889 15.3993 3.20806 16.0135L8.10305 18.736C9.14805 19.3135 10.8622 19.3135 11.9072 18.736L16.8022 16.0135C17.9114 15.3993 18.8189 13.8594 18.8189 12.5944V7.41517C18.8189 6.15017 17.9114 4.61019 16.8022 3.99603L11.9072 1.2735C10.853 0.686829 9.14805 0.686829 8.10305 1.2735Z" stroke="#3A3A3A" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" /> <path d="M14.582 11.1366V7.78167L5.88281 2.7583" stroke="#3A3A3A" stroke-width="1.5" stroke-linecap="round"  stroke-linejoin="round" /> </g> </svg>
      <div class="section-text">Aide et contact</div>
      <div class="dropdown" (click)="toggleHelpDropdown($event)">
  <img src="../../../assets/images/Icon-Dropdown.png" alt="Icon Dropdown">
  <div class="dropdown-menuu" *ngIf="isHelpDropdownOpen">
    <div class="help-container">
      <div class="help-item" (click)="viewDetail()">
        <i class="fas fa-plus" ></i> Créer une demande
      </div>
      <div class="help-item" (click)="mesDemandes()">
        <i class="fas fa-list-alt"></i> Mes demandes
      </div>
      <div class="help-item" (click)="FAQ()">
        <i class="fas fa-question-circle"></i> Questions fréquentes
      </div>
    </div>
  </div>
      </div></div>

    
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 16H17C19.7614 16 22 18.2386 22 21C22 21.5523 21.5523 22 21 22C20.4872 22 20.0645 21.614 20.0067 21.1166L19.9949 20.8237C19.907 19.3072 18.6928 18.093 17.1763 18.0051L17 18H7C5.34315 18 4 19.3431 4 21C4 21.5523 3.55228 22 3 22C2.44772 22 2 21.5523 2 21C2 18.3112 4.12231 16.1182 6.78311 16.0046L7 16H17H7ZM12 2C15.3137 2 18 4.68629 18 8C18 11.3137 15.3137 14 12 14C8.68629 14 6 11.3137 6 8C6 4.68629 8.68629 2 12 2ZM12 4C9.79086 4 8 5.79086 8 8C8 10.2091 9.79086 12 12 12C14.2091 12 16 10.2091 16 8C16 5.79086 14.2091 4 12 4Z" fill="#1E1E1E" /></svg>
    <div class="dropdown" (click)="toggleDropdown($event)">
      <img src="../../../assets/images/Icon-Dropdown.png" alt="Icon Dropdown">
      <div class="dropdown-menu" *ngIf="isDropdownOpen">
        <div class="profile-container">
          <div class="profile-header">
            <div class="profile-icon">
              <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 12 12" fill="none"> <path fill-rule="evenodd" clip-rule="evenodd" d="M3.5 8H8.5C9.88071 8 11 9.11929 11 10.5C11 10.7761 10.7761 11 10.5 11C10.2436 11 10.0322 10.807 10.0034 10.5583L9.99745 10.4119C9.95352 9.65362 9.34638 9.04648 8.58814 9.00255L8.5 9H3.5C2.67157 9 2 9.67157 2 10.5C2 10.7761 1.77614 11 1.5 11C1.22386 11 1 10.7761 1 10.5C1 9.15562 2.06115 8.05909 3.39156 8.00231L3.5 8H8.5H3.5ZM6 1C7.65685 1 9 2.34315 9 4C9 5.65685 7.65685 7 6 7C4.34315 7 3 5.65685 3 4C3 2.34315 4.34315 1 6 1ZM6 2C4.89543 2 4 2.89543 4 4C4 5.10457 4.89543 6 6 6C7.10457 6 8 5.10457 8 4C8 2.89543 7.10457 2 6 2Z" fill="#3A3A3A" />
              </svg>
            </div>
            <div class="profile-name">Eugénie Verret</div>
          </div>
          <div class="profile-content">
            <div class="profile-item" (click)="viewDetails()">Mon profil</div>
            <div class="divider"></div>
            <div class="profile-item" (click)="deconnecte()">Me déconnecter</div>
          </div>
        </div>
      </div>
    </div>

    <nb-actions size="small">
      <nb-select class="user-action" placeholder="User" *nbIsGranted="['view', 'user']" [selected]="user?.name">
        <nb-option disabled [value]="user?.name">
          <nb-user [nbContextMenu]="userMenu" [onlyPicture]="userPictureOnly" [name]="user?.name"
            [picture]="user?.picture">
          </nb-user>
        </nb-option>
        <nb-option *ngFor="let item of userMenu" [value]="item.title" (click)="onMenuClick(item)">
          <nb-icon [icon]="item.icon" pack="eva"></nb-icon>
          {{ item.title }}
        </nb-option>
      </nb-select>

      <nb-action class="control-item" icon="bell-outline"></nb-action>
    </nb-actions> 
  </div>
</div>