<div class="custom-container">
  <img  src="../../../assets/images/Icons (4).png" (click)="RetourEnBack()" alt="Icon">
  </div>
<h1>Détails contrat</h1>
   <div class="container1">
      <div class="header">
      <img src="../../../assets/images/icones-bicolores.png">
      <div class="contract-number">Contrat n° 1234567</div>
      <div class="download">
        <div class="download-text">Télécharger</div>
            <img class="download-icon" src="assets/images/download.png" alt="Télécharger" (click)="downloadPDF(facture)">
          <!-- <div class="download-icon-shape"></div> -->
        </div>
      </div>
    <div class="details">
      <div class="detail-column">
        <div class="label">Titulaire</div>
        <div class="value">Eugénie Verret</div>
        <div class="co-holder">
            <span class="value">Valentin Verret </span><span class="co-holder-label">(co-titulaire)</span>
            <img class="icon-inner" src="../../../assets/images/icon.png" alt="Icon" (click)="onClickIcon()"> 
            <div *ngIf="showContent" style="position: absolute; top: 100%; left: 0; padding: 20px; z-index: 10;">
                <div class="top-section">
                </div>
                <div class="content">
                 <p> Pour modifier les informations relatives au titulaire de votre contrat,<br> nous vous invitions à nous appeler au 04 76 84 20 00, choix 2.<br> Nous sommes joignables du lundi au vendredi de 8h à 20h.</p>
                  <div class="close-icon" (click)="hideContent()"></div> <!-- Icône de fermeture -->
                </div>
              </div>
          </div>
        </div>

      <div class="detail-column">
        <div class="label">Lieu de consommation</div>
            <div class="value">16 rue Pierre Larousse, 75014 Paris</div>
            <div class="value">PDL n° 123456</div>
        </div>
      <div class="detail-column">
        <div class="label">Puissance</div>
        <div class="power">
          <div class="power-icon">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">  <path fill-rule="evenodd" clip-rule="evenodd" d="M8.86759 1.54223C9.07307 1.63247 9.19325 1.84857 9.16151 2.07074L8.57638 6.1667L12.2276 6.1667C12.3902 6.16668 12.5446 6.16666 12.6689 6.17793C12.7884 6.18876 12.9844 6.21595 13.1518 6.35046C13.3506 6.51024 13.4653 6.75228 13.4631 7.00734C13.4612 7.22206 13.3581 7.39103 13.2908 7.49037C13.2208 7.59369 13.123 7.7132 13.0201 7.83901L7.72019 14.3166C7.57807 14.4903 7.33764 14.5481 7.13215 14.4578C6.92667 14.3676 6.80649 14.1515 6.83823 13.9293L7.42337 9.83336L3.77216 9.83336C3.60958 9.83338 3.45515 9.8334 3.33087 9.82213C3.21138 9.8113 3.01531 9.78411 2.84793 9.6496C2.64911 9.48982 2.53442 9.24778 2.53665 8.99272C2.53854 8.778 2.64165 8.60903 2.70894 8.50969C2.77891 8.40637 2.87671 8.28686 2.97968 8.16105L8.27956 1.68341C8.42168 1.50972 8.66211 1.45199 8.86759 1.54223ZM7.91796 3.70455L3.7662 8.77892C3.75051 8.7981 3.73571 8.81621 3.72174 8.83332C3.74383 8.83335 3.76722 8.83336 3.792 8.83336H7.99987C8.14482 8.83336 8.28263 8.89626 8.3776 9.00576C8.47257 9.11526 8.51535 9.26059 8.49485 9.40407L8.08179 12.2955L12.2335 7.22114C12.2492 7.20196 12.264 7.18385 12.278 7.16673C12.2559 7.1667 12.2325 7.1667 12.2077 7.1667H7.99987C7.85493 7.1667 7.71711 7.1038 7.62215 6.9943C7.52718 6.8848 7.4844 6.73948 7.5049 6.59599L7.91796 3.70455Z" fill="white"/> </svg>
          </div>
            <div class="power-value">9kVA</div>
        </div>
      </div>
      <div class="flex-column">
        <div class="label">Option tarifaire</div>
          <div class="option">Double tarif<br> Heures creuses (6-8h, 14-16h, 22-23h)</div>
      </div>
    </div>
</div>

  
 <div class="contain">
  <div class="card">
    <div class="header5">
      <div class="title-section5">
        <div class="title5">Mode de paiement</div>
        <div class="edit-button5" (click)="toggleEcheancier()">
          <div class="edit-section">
          <div class="edit-text">Modifier</div>
          <img class="edit-icon" src="../../../assets/images/edit-2.png" alt="Edit Icon" />
        </div>
        </div></div>
        <div class="monthly-deduction">prélèvement mensuel</div>
        <div class="mandate-box">
                  <div class="mandate">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none"> <path d="M11.3333 8.5655H14V12.5655C14 13.3019 13.403 13.8988 12.6667 13.8988M11.3333 8.5655V12.5655C11.3333 13.3019 11.9303 13.8988 12.6667 13.8988M11.3333 8.5655V3.73689C11.3333 3.1333 11.3333 2.8315 11.2065 2.65648C11.0959 2.50381 10.9258 2.40512 10.7384 2.38482C10.5236 2.36156 10.2615 2.5113 9.73745 2.81077L9.52922 2.92976C9.33632 3.03998 9.23987 3.0951 9.13745 3.11668C9.04681 3.13577 8.95319 3.13577 8.86255 3.11668C8.76013 3.0951 8.66367 3.03998 8.47079 2.92976L7.19588 2.20124C7.00299 2.09102 6.90654 2.0359 6.80411 2.01432C6.71348 1.99523 6.61986 1.99523 6.52922 2.01432C6.42679 2.0359 6.33035 2.09102 6.13745 2.20124L4.86255 2.92976C4.66965 3.03998 4.57321 3.0951 4.47078 3.11668C4.38014 3.13577 4.28652 3.13577 4.19589 3.11668C4.09346 3.0951 3.99701 3.03998 3.80412 2.92976L3.59588 2.81076C3.07181 2.5113 2.80978 2.36156 2.59491 2.38482C2.40748 2.40512 2.23741 2.50381 2.1268 2.65648C2 2.8315 2 3.1333 2 3.73689V10.6988C2 11.8189 2 12.379 2.21799 12.8068C2.40973 13.1831 2.71569 13.4891 3.09202 13.6808C3.51984 13.8988 4.0799 13.8988 5.2 13.8988H12.6667M4.66667 8.5655H7.33333M4.66667 5.89883H6.66667H8.66667" stroke="#544E4E" stroke-opacity="0.6" stroke-linecap="round" stroke-linejoin="round"/></svg>
          <div class="mandate-text">Mandat SEPA, 1234579004°°°9846</div>
          <div class="sign-date">Signé lé 1 Juin 2023</div>
          <img class="download-icon" src="assets/images/download.png" alt="Télécharger" (click)="downloadPDF(facture)" style="margin-left:120px">
        </div>
      </div>
      <div *ngIf="!isHidden" class="update-info">
      <div class="update-text">Mettre à jour le RIB  <img src="../../../assets/images/edit-2.png"></div>
      <br>
      <div class="update-text" >Modifier la date de prélèvement  <img src="../../../assets/images/edit-2.png"></div>  
    </div>
  </div></div>
 
  
  <div *ngIf="showEcheancier" class="card">
    <div class="header5">
      <div class="title-section5">
        <div class="title5">Echéancier de paiement</div>
        <div class="view-button5" (click)="toggleTable()">
          <div class="edit-section">
          <div class="edit-text">{{ showTable ? 'Masquer le tableau' : 'Voir le tableau' }}</div>
          <img src="../../../assets/images/Icon-right (1).png" class="edit-icon">
        </div></div>
      </div><br>
      <div class="payment-details5">
        <div class="mandate-box">
          <div class="mandate">
          <div class="detail-title5">18 Sept. 2022</div>
          <div class="detail-subtitle5">Calendrier de paiement</div>
          <img class="download-icon" src="assets/images/download.png" alt="Télécharger" (click)="downloadPDF(facture)" style="margin-left:250px">
        </div>
      </div>
    </div>
  </div></div>
</div>
          
<!-- Overlay pour le tableau -->
<div *ngIf="isTableVisible" class="overlay">
  <div class="modal-content">
    <div class="close-icon" (click)="closeTable()"></div>
    <div class="content-wrapper">
        <div class="title">
          <h1>Echéancier de paiement</h1>
          <p>Ci-dessous les détails de votre calendrier de paiement</p>
        </div>
        <div class="table-container">
          <div class="table">
            <div class="table-header">
              <div style="flex: 1;">Prélèvement</div>
              <div style="width: 140px;">Montant TTC</div>
            </div>
            <div class="table-row">
              <div style="flex: 1; display: flex; align-items: center; gap: 8px;">
                <img src="https://via.placeholder.com/13x13" alt="icon">
                <div class="date">04/03/2024</div>
              </div>
              <div class="amount">48,57 €</div>
            </div>
        <!-- Ajoutez d'autres éléments ici -->
      </div>
    </div>
    <div class="download-button">
      <div class="button-content">
          <div class="button-text">Télécharger l’échéancier (.PDF)</div>
      </div>
      <div class="button-icon"></div>
  </div>
    <!-- <button (click)="closeTable()">Fermer</button> -->
  </div>
</div></div>





          <div class="container1">
            <div class="payment-mode-section">
              <div class="header">
                <div class="payment-mode">L’adresse de facturation</div>
                <div class="edit-section">
                    <div class="edit-text">Modifier</div>
                      <img class="edit-icon" src="../../../assets/images/edit-2.png" alt="Edit Icon" />
                </div>
                </div>
            </div>
      <div class="address-box">
          <div class="address-title">Adresse de facturation</div>
          <div class="address-details">
            <div class="detail-item">
              <div class="label">N </div>
              <div class="value">24</div>
            </div>
            <div class="detail-item">
              <div class="label">Rue, voie, etc</div>
              <div class="value">rue Pierre Larousse</div>
            </div>
            <div class="detail-item">
              <div class="label">Code postale</div>
              <div class="value">75014</div>
            </div>
            <div class="detail-item">
              <div class="label">Ville</div>
              <div class="value">Paris</div>
            </div>
          </div></div></div>


      <div class="container1">
            <div class="payment-mode">Documents associés</div>
            <div class="document-list">
              <div class="document-item">
                <div class="document-info">
              <img src="../../../assets/images/icones-bicolores.png" >
                  <div class="text">
                    <div class="document-title">Justificatif de domicile</div>
                    <div class="document-date">1er Janv. 2023</div>
                  </div>
                </div>
                  <img class="action-icon" src="assets/images/download.png" >
              </div>
        
              <div class="document-item">
                <div class="document-info">
                  <img src="../../../assets/images/icones-bicolores.png" >
                  <div class="text">
                    <div class="document-title">Grille tarifaire Tarif Base</div>
                    <div class="document-date">1er Janv. 2023</div>
                  </div>
                </div>
                  <img class="action-icon" src="assets/images/download.png" >
              </div>
        
              <div class="document-item">
                <div class="document-info">
                  <img src="../../../assets/images/icones-bicolores.png" >
                  <div class="text">
                    <div class="document-title">Certificat de garantie d'origine</div>
                    <div class="document-date">1er Janv. 2023</div>
                  </div>
                </div>
                  <img class="action-icon" src="assets/images/download.png" >
              </div>
              <div class="document-item">
                <div class="document-info">
                  <img src="../../../assets/images/icones-bicolores.png" >
                  <div class="text">
                    <div class="document-title">CGV</div>
                    <div class="document-date">2023 Tarif Base</div>
                  </div>
                </div>
                <img class="action-icon" src="assets/images/download.png" >
        </div></div></div>

        <div class="container1">
            <div class="header">
              <div class="payment-mode">Services souscrits</div>
              <div class="edit-section">
                  <div class="edit-text">Découvrir d'autres services →</div>
              </div>
              </div>
              <div class="box-container">
                <div class="box">
                    <div class="box-header">
                    <img class="box-icon" src="../../../assets/images/Icons (1).png">        
                        <div class="box-status">souscrit</div>
                    </div>
                    <div class="box-content">
                        <div class="box-price">2,99€/mois</div>
                        <div class="box-details">
                            <div class="box-service">assistance dépannage</div>
                            <div class="box-title">Sérénité Electricité</div>
                        </div>
                    </div>
                    <div class="box-badge">
                        <div class="box-badge-icon"> 
                             <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"><path d="M6 12H18M18 12L13 7M18 12L13 17" stroke="#1E1E1E" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/> </svg>
                        </div>
                    </div>
                </div>
                <div class="box">
                    <div class="box-header">
                          <img class="box-icon" src="../../../assets/images/Icons (1).png">        
                        <div class="box-status">souscrit</div>
                    </div>
                    <div class="box-content">
                        <div class="box-price">Gratuit</div>
                        <div class="box-details">
                            <div class="box-service">Service</div>
                            <div class="box-title">E-facture</div>
                        </div>
                    </div>
                    <div class="box-badge">
                      <div class="box-badge-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"><path d="M6 12H18M18 12L13 7M18 12L13 17" stroke="#1E1E1E" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/> </svg>
                      </div>
                </div>
            </div>
        </div>
  